{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\srini\\\\OneDrive\\\\Desktop\\\\varsha_ws\\\\women_safety_dashboard\\\\frontend\\\\src\\\\components\\\\RiskMapPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\n\n// Fix missing marker issue in Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customIcon = new L.Icon({\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\nconst RiskMapPage = () => {\n  _s();\n  const [crimeData, setCrimeData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/api/all-crime-data/\").then(res => res.json()).then(data => {\n      console.log(\"Fetched Crime Data:\", data); // Debugging log\n      setCrimeData(data);\n    }).catch(error => console.error(\"Error fetching data:\", error));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [43.6569824, -79.405227],\n    zoom: 12,\n    style: {\n      height: \"500px\",\n      width: \"100%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), crimeData.length > 0 ? crimeData.map((crime, index) => {\n      if (!crime.latitude || !crime.longitude) return null; // Ignore invalid entries\n\n      console.log('Adding marker at: ${crime.latitude}, ${crime.longitude}, Risk: ${crime.risk_level}');\n      return /*#__PURE__*/_jsxDEV(Marker, {\n        position: [crime.latitude, crime.longitude],\n        icon: customIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Neighbourhood:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this), \" \", crime.Neighbourhood, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Risk Level:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), \" \", crime.risk_level, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 65\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Crime Rate %:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), \" \", crime.crime_rate_percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this);\n    }) : console.log(\"No crime data available\")]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(RiskMapPage, \"tQikb6sGcEiRUGL1usKgdvOpJsI=\");\n_c = RiskMapPage;\nexport default RiskMapPage;\nvar _c;\n$RefreshReg$(_c, \"RiskMapPage\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","L","jsxDEV","_jsxDEV","customIcon","Icon","iconUrl","require","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","RiskMapPage","_s","crimeData","setCrimeData","fetch","then","res","json","data","console","log","catch","error","center","zoom","style","height","width","children","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","length","map","crime","index","latitude","longitude","position","icon","Neighbourhood","risk_level","crime_rate_percentage","_c","$RefreshReg$"],"sources":["C:/Users/srini/OneDrive/Desktop/varsha_ws/women_safety_dashboard/frontend/src/components/RiskMapPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet\";\r\n\r\n// Fix missing marker issue in Leaflet\r\nconst customIcon = new L.Icon({\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41],\r\n});\r\n\r\nconst RiskMapPage = () => {\r\n  const [crimeData, setCrimeData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://127.0.0.1:8000/api/all-crime-data/\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Fetched Crime Data:\", data); // Debugging log\r\n        setCrimeData(data);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching data:\", error));\r\n  }, []);\r\n\r\n  return (\r\n    <MapContainer center={[43.6569824, -79.405227]} zoom={12} style={{ height: \"500px\", width: \"100%\" }}>\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      />\r\n\r\n      {crimeData.length > 0 ? (\r\n        crimeData.map((crime, index) => {\r\n          if (!crime.latitude || !crime.longitude) return null; // Ignore invalid entries\r\n          \r\n          console.log('Adding marker at: ${crime.latitude}, ${crime.longitude}, Risk: ${crime.risk_level}');\r\n\r\n          return (\r\n            <Marker key={index} position={[crime.latitude, crime.longitude]} icon={customIcon}>\r\n              <Popup>\r\n                <strong>Neighbourhood:</strong> {crime.Neighbourhood} <br />\r\n                <strong>Risk Level:</strong> {crime.risk_level} <br />\r\n                <strong>Crime Rate %:</strong> {crime.crime_rate_percentage}%\r\n              </Popup>\r\n            </Marker>\r\n          );\r\n        })\r\n      ) : (\r\n        console.log(\"No crime data available\")\r\n      )}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default RiskMapPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}